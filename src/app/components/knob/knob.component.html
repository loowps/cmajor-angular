<div
  class="cmaj-knob"
  (mousedown)="onMouseDown($event)"
  (mouseup)="onMouseUp()"
  (dblclick)="onDoubleClick()"
>
  <div class="label">{{ label }}</div>
  <svg width="100%" height="100%" viewBox="0 0 100 100">
    <defs>
      <radialGradient id="dialFill1" cx="0.5" cy="0.5" r="0.5" fx="0.33" fy="0.33">
        <stop offset="0%" stop-color="#2e2e31" />
        <stop offset="100%" stop-color="#27272a" />
      </radialGradient>
    </defs>

    <g class="track">
      <path
        class="bg"
        [attr.stroke-width]="strokeWidth"
        [attr.d]="describeArc(50, 50, radius, -150, 150)"
      ></path>
      <path
        class="val"
        [attr.stroke-width]="strokeWidth"
        [attr.d]="describeArc(50, 50, radius, -150, -150 + 2 * 150 * knobValue)"
      ></path>
    </g>

    <g class="knob">
      <circle class="bg" [attr.r]="radius - strokeWidth / 2.0" cx="50" cy="50"></circle>
      <g class="val" [style.transform]="'rotateZ(' + (-150 + 2 * 150 * knobValue) + 'deg)'">
        <circle [attr.r]="radius - strokeWidth / 2.0" cx="50" cy="50"></circle>
        <rect x="48" [attr.y]="50 - radius + 8" width="2" height="12"></rect>
      </g>
    </g>
  </svg>
</div>
